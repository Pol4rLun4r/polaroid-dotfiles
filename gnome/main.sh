#!/bin/bash

# script que instala as extens√µes

# solicita senha do sudo para manter a sess√£o ativa
sudo -v

# Diret√≥rio atual
CURRENT_DIR=$(dirname $(realpath "$0"))

echo -e "üìã Instalando extens√µes do arquivo extensions-list.txt...\n"
echo -e "üîç Procurando extens√µes...\n"

# arquivo que informa o script qual etapa ele deve seguir, fazer download ou instalar
STATE="$CURRENT_DIR/state.txt"

# verifica se j√° foi feito o download das extens√µes, se sim vai pra pr√≥xima etapa de instalar elas
if [ ! -f "$STATE" ] || ! grep -q "downloaded" "$STATE"; then
    bash "$CURRENT_DIR/download-extensions.sh"
else
    bash "$CURRENT_DIR/install-extensions.sh"
fi

# compile-extensions

echo -e "\n‚úÖ Todas as extens√µes processadas!"